#!/usr/bin/env bash

set -eou pipefail

cdup=$(git rev-parse --show-cdup)

file_line=$(git diff "$@" |
	showlinenum show_path=1 |
	grep -E ':\+' |
	fzf --ansi |
	sed -n "s,^\([^:]\+\):\([^:]\+\).*,\"${cdup}\1\" +\2,p")

echo "edit $file_line"
