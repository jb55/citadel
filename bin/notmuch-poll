#!/usr/bin/env sh

notmuchcmd () {
  echo "notmuch" "$@"
  $(notmuch "$@")
}

# bulk bs
notmuchcmd tag +filed +bulk 'folder:".Bulk"'

# sent
notmuchcmd tag +sent tag:inbox and not tag:sent and folder:".Sent"

# me
notmuchcmd tag +to-me not tag:to-me and and tag:inbox and \(to:jackbox55@gmail.com or to:jb55@jb55.com\)
notmuchcmd tag -to-me tag:to-me and tag:inbox and from:discoursemail.com

notmuchcmd tag +flagged tag:inbox and not tag:flagged and to:jackbox55+star@gmail.com

# except if someone mentions e
notmuchcmd tag +flagged -busy -filed tag:inbox and '(tag:list and tag:to-me) or to:mention@noreply.github.com or author@noreply.github.com or to:ci_activity@noreply.github.com or to:review_requested@noreply.github.com or to:comment@noreply.github.com or (subject:jb55 and tag:github) or ((usdt or ebpf or bpf or tracepoints) and bitcoin)'

# spam
notmuchcmd tag +spam -inbox 'from:"BOOM OF SALES"' or from:sugarmat and tag:inbox

# not spam
notmuchcmd tag +inbox -spam +flagged "bitcoin wizard" and tag:spam

# phone mail
notmuchcmd tag -inbox tag:inbox and '(folder:".Archive" or folder:".Trash" or folder:".Archives")'

# bulk bs
notmuchcmd tag +filed +bulk 'folder:".Bulk"'

printf "notmuch tagging done.\n"
